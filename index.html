<!DOCTYPE html>
<html lang="ms">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kalkulator Harga Cetakan 3D</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">

<h1>Kalkulator Harga Cetakan 3D</h1>

<!-- Sub 1 -->
<div class="card sub1">
  <label>‚öôÔ∏è Jenis Cetakan:</label>
  <select id="jenisCetakan"></select>

  <label>‚öñÔ∏è Berat Objek:</label>
  <div class="input-with-unit">
    <input type="text" id="berat" placeholder="Contoh: 105.27">
    <span>g</span>
  </div>

  <label>üßµ Jenis Filament:</label>
  <select id="filament"></select>

  <label>üí∞ Harga Filament:</label>
  <div class="input-with-unit">
    <span>RM</span>
    <input type="text" id="harga">
  </div>

  <label>‚è±Ô∏è Tempoh Cetakan:</label>
  <div class="time-inputs">
    <span>Jam</span>
    <input type="number" id="jam" placeholder="7">
    <span>Minit</span>
    <input type="number" id="minit" placeholder="Optional">
  </div>
</div>

 <button id="kiraBtn" class="kiraBtn">KIRA HARGA</button>

<!-- Sub 2 -->
<div class="card sub2">
  <div class="addons">
    <strong>üß© Tick jika pilih PREMIUM</strong>
    <div class="addon-group">
      <label><input type="checkbox" id="kemasan"> Kemasan (Support) +RM0.20</label>
      <label><input type="checkbox" id="cat"> Cat +RM1.00</label>
      <label><input type="checkbox" id="sanding"> Sanding +RM0.20</label>
    </div>
  </div>

  <div class="hargaButtons">
    <button onclick="showHarga('min')">MINIMUM</button>
    <button onclick="showHarga('std')">STANDARD (Bundar)</button>
    <button onclick="showHarga('prem')">PREMIUM (Bundar)</button>
  </div>

  <div id="formulaContainer" class="formula-container">
    <div id="formulaStep"></div>
    <div id="hargaAkhirContainer" class="hargaAkhir">
      <strong>Jumlah Keseluruhan:</strong> <span id="hargaAkhir"></span>
    </div>
    <div class="kos-wrapper">
      <button id="toggleKosBtn" class="kosBtn"></button>
      <span></span>
    </div>
    <div id="totalKosContainer" style="display:none;"></div>
  </div>
</div>

<script>
  const checkboxes = document.querySelectorAll('.addon-group input[type="checkbox"]');
  const minBtn = document.querySelector('button[onclick="showHarga(\'min\')"]');
  const stdBtn = document.querySelector('button[onclick="showHarga(\'std\')"]');
  const premBtn = document.querySelector('button[onclick="showHarga(\'prem\')"]');

  function updateButtons() {
    // Semak kalau mana-mana checkbox ditanda
    const anyChecked = Array.from(checkboxes).some(cb => cb.checked);

    if (anyChecked) {
      // Sembunyikan butang MINIMUM dan STANDARD
      minBtn.style.display = 'none';
      stdBtn.style.display = 'none';
      // Pastikan PREMIUM nampak
      premBtn.style.display = 'inline-block';
    } else {
      // Kalau tiada yang ditanda, semua butang nampak semula
      minBtn.style.display = 'inline-block';
      stdBtn.style.display = 'inline-block';
      premBtn.style.display = 'inline-block';
    }
    
    if (anyChecked) {
      // Jika mana-mana premium option ditanda ‚Üí hanya PREMIUM nampak
      minBtn.style.display = 'none';
      stdBtn.style.display = 'none';
      premBtn.style.display = 'inline-block';
    } else {
      // Jika tiada ditanda ‚Üí hanya MIN dan STD nampak
      minBtn.style.display = 'inline-block';
      stdBtn.style.display = 'inline-block';
      premBtn.style.display = 'none';
    }
  }

  // Pantau perubahan setiap checkbox
  checkboxes.forEach(cb => cb.addEventListener('change', updateButtons));

  // Jalankan sekali waktu mula
  updateButtons();
</script>



<!-- Sub 3: Pengurusan Filament & Tambahan -->
<button id="toggleManageBtn" class="manage-toggle">SHOW / HIDE PENGURUSAN</button>
<div class="card manage-section" id="manageWrapper" style="display:none;">
  <h2>‚öôÔ∏è Pengurusan Filament & Tambahan</h2>

  <div class="manage-filament">
    <label>Nama Filament Baru:
      <input type="text" id="filamentBaru">
    </label>
  <div>
  </div class="manage-harga">
    <label>Harga Filament (RM / 1000g):
      <input type="number" id="hargaBaru" step="0.01">
    </label>
  </div>

  <div class="manage-tambahan">
    <label>Harga Kemasan (RM):
      <input type="number" id="hargaKemasan" step="0.01" value="0.20">
    </label>
    <label>Harga Cat (RM):
      <input type="number" id="hargaCat" step="0.01" value="1.00">
    </label>
    <label>Harga Sanding (RM):
      <input type="number" id="hargaSanding" step="0.01" value="0.20">
    </label>

    <div style="text-align:right; margin-top:6px;">
      <button onclick="tambahFilament()">UPDATE</button>
    </div>
  </div>

  <h3>Senarai Harga Filament:</h3>
  <ul id="senaraiFilament"></ul>
</div>

<script src="script.js"></script>
</body>
</html>
